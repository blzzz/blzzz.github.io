{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport {tweened} from \"svelte/motion\"\n\timport {writable} from \"svelte/store\"\n\timport {onMount, tick} from \"svelte\"\n\timport {chooseLine, reset, chosenLines, lineOptions, leftLines, nextStep, schema} from './store.js'\n\timport VideoStream from \"./VideoStream.svelte\"\n\n\tconst numOptions = 4, iterationLimit = 1;\n\t\n\tlet selectedOption = writable(0), hoversOptions = false, iterationCount = 0;\n\tconst hoverOption = (id, hovers) => {\n\t\thoversOptions = hovers;\n\t\t$selectedOption = id;\n\t}\n\n\tlet currConfigOptionIndex = 0, width;\n\tconst next = (line = options[options.length - 1 ]) => {\n        hoversOptions = false;\n        iterationCount = 0;\n\t\tchooseLine(line, $lineOptions[currConfigOptionIndex]);\n\t}\n    \n    const share = async () => {\n        const shareData = {\n            title: 'MDN',\n            text: 'Learn web development on MDN!',\n            url: 'https://developer.mozilla.org',\n        };\n        try {\n            await navigator.share(shareData)\n            // resultPara.textContent = 'MDN shared successfully'\n            console.log(111)\n        } catch(err) {\n            // resultPara.textContent = 'Error: ' + err\n            console.log(err)\n        }\n    };\n    \n\n    let optionsWidth = writable(1000);\n\tlet optionsElement;\n\tconst autoSelectElementInRange = (range) => {\n        Array.from(optionsElement.children).some((el) => {\n            const {x, width} = el.getBoundingClientRect();\n            const [minX,maxX] =  range;\n            if(x > minX && x+width < maxX ) {\n                $selectedOption = Number(el.dataset.id);\n                return true;\n            }\n            return false;\n        });\n    }\n\n\tlet optionContainer;\n\tonMount(()=> {\n\t\tconst {x, width} = optionContainer.getBoundingClientRect();\n\t\tconst range = [x, x + width];\n\t\tlet interval = setInterval(() => {\n            if (hoversOptions === true || optionsElement === null) return;\n            autoSelectElementInRange(range)\n            $optionsWidth = Math.round(optionsElement.getBoundingClientRect().width);\n        });\n\t\treturn () => {\n\t\t\tclearInterval(interval)\n\t\t}\n\t})\n\n\t$:numExtraSeries = optionContainer ? Math.round(width / optionContainer.getBoundingClientRect().width) : 2;\n\t$:options = Array(numExtraSeries * 2).fill().map(o => $lineOptions[currConfigOptionIndex]).flat();\n    $:done = $nextStep === undefined;\n    $:timeExceeded = iterationCount >= iterationLimit;\n    $:loopDuration = Math.round($optionsWidth / 1000) *  (timeExceeded ? 0.75 : 0.5) * 3; \n    $:optionSeriesWidth = timeExceeded === false ? $optionsWidth / (numExtraSeries * 2) : optionSeriesWidth; \n</script>\n<style>\n\t:global(body) {\n\t\ttext-align: center;\n\t\tmargin: 0px;\n\t\tpadding: 0px;\n\t}\n\t.poem {\n\t\tfont-family: 'Kristi', cursive;\n\t\tfont-size: 40px;\n\t\tmargin: 0px;\n\t\ttext-align: center;\n\t\tpadding: 0px;\n\t\tdisplay: flex;\n\t\tflex-flow: column nowrap;\n\t\twidth:600px;\n\t\ttransition: transform 0.2s ease-out;\n\t}\n\t\n\t.line-container {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tmargin: 0.2em;\n\t\theight:70px;\n\t\t\n\t}\n\t.line {\n\t\twhite-space: nowrap;\n\t\tbackground: rgba(238,167,170,0.1);\n\t\theight: 100%;\n\t\tbox-sizing: border-box;\n\t\tpadding: 0.2em 1em;\n\t\tborder-radius: 0.5em;\n\t\tmargin: 0px;\n\t\ttext-align:center;\n\t\tborder: 1px solid transparent;\n\t\ttransition: background 0.5s ease-out;\n\t\tcolor: rgb(238,167,170)\n\t}\n\n\t.poem.done .line {\n\t\tbackground: transparent;\n\t}\n\t.line-container .options {\n\t\tposition:absolute;\n\t\tdisplay: flex;\n\t\tflex-flow: row nowrap;\n\t\tanimation: moveLoop linear 15s infinite;\n\t}\n\t.line-container .options.timeExceeded {\n\t\tanimation: moveEnd linear 15s 1;\n\t} \n\t.options .line {\n\t\tmargin-right: 0.3em;\n\t}\n\t.options .line.warning {\n\t\tbackground: hsl(0, 100%, 70%);\n\t\tcolor: black;\n\t}\n\t.options .line.selected,\n\t.options .line:hover {\n\t\tborder: 1px solid rgb(238,167,170);\n\t\tcursor: pointer;\n\t\tbackground: hsl(330, 15%, 25%);\n\t\tcolor: #fff;\n\t}\n\t\n\tbutton {\n\t\tbackground: rgb(238,167,170);\n\t\tcolor: black;\n\t\tborder: 0px;\n\t\tborder-radius: 20px;\n\t\tpadding: 1em;\n\t\tfont-size: 16px;\n\t\tmargin-top: 2em;\n\t\tz-index: 2;\n\t\tposition: relative;\n\t}\n\t\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-flow: column nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tbackground: rgb(75, 55, 65);\n\t}\n\n\t@keyframes moveLoop {\n\t\t0% {\n\t\t\ttransform: translate(var(--start-pos), 0px)\n\t\t}\n\t\t100% {\n\t\t\ttransform: translate(var(--end-pos), 0px)\n\t\t}\n\t}\n\t@keyframes moveEnd {\n\t\t0% {\n\t\t\ttransform: translate(var(--start-pos), 0px)\n\t\t}\n\t\t100% {\n\t\t\ttransform: translate(-100%, 0px)\n\t\t}\n\t}\n</style>\n<svelte:head>\n\t<link href=\"https://fonts.googleapis.com/css2?family=Kristi&display=swap\" rel=\"stylesheet\">\n</svelte:head>\n<div class=\"container\" bind:clientWidth={width} style=\"--start-pos: {-optionSeriesWidth}px; --end-pos: { -$optionsWidth + optionSeriesWidth}px\">\n\t<!-- Reimschema: {$schema || 'noch nicht definiert'} -->\n\t<!-- <div style=\"position: absolute; width: 100%; height: 100%; top:0px;\"><VideoStream /></div> -->\n\n\t<div class:done class=\"poem\" style=\"transform:translate(0,-{$chosenLines.length === 4 ? 0 : $chosenLines.length * 50}px)\">\n\t\t{#each Array(4).fill() as o,i (i)}\n\t\t\t{#if i === $chosenLines.length}\n\t\t\t\t<div class=\"line-container\" bind:this={optionContainer}>\n\t\t\t\t\t<div class=\"options\" \n                        class:timeExceeded \n                        bind:this={optionsElement} \n                        on:animationiteration={e => iterationCount++} \n                        on:animationend={e => next()} \n                        style=\"animation-duration: {loopDuration}s\"\n                        >\n\t\t\t\t\t\t{#each options as line,i }\n\t\t\t\t\t\t<p class=\"line\" class:selected={$selectedOption === line.id} data-id={line.id} on:mouseout={e => hoverOption(i, false)} on:mouseover={e => hoverOption(i, true)}  on:click={e => next(line)}>{line.verse}</p>\n\t\t\t\t\t\t{#if timeExceeded && i === options.length - numOptions}\n\t\t\t\t\t\t\t<p class=\"line warning\" >Achtung, letzte Runde!</p>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</div> \n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t<div class=\"line-container\">\n\t\t\t\t<p class=\"line\">{$chosenLines[i]?.verse || ' '}</p>\n\t\t</div>\n\t\t\t{/if}\n\t\t{/each}\n\t</div>\n\t\n\t{#if done}\n\t\t{#await new Promise(r => setTimeout(r, 4000))}\n\t\t\t&nbsp;\n\t\t{:then result}\n\t\t\t<button on:click={e => reset()}>Nochmals von vorn</button>\n\t\t\t<button on:click={e => share()}>Teile das Gedicht</button>\n\t\t{/await}\n\t{/if}\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}